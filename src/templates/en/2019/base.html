{% extends "base.html" %}

{% block styles %}
  <link href="https://fonts.googleapis.com/css?family=Lato:400,400i|Poppins:300,400,700,900&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="/static/css/2019.css">
{% endblock %}

{% block content%}
  {% block header %}
    <header class="alt-bg">
      <img src="/static/images/logo.png" />
      <nav>
        <li>
          <a href="{{ url_for('contributors', year=year, language=language) }}">Contributors</a>
        </li>
        <li>
          <a href="{{ url_for('methodology', year=year, language=language) }}">Methodology</a>
        </li>
        {% if supported_years | length > 1 %}
          <div class="select-year">
            <button>
              2019 Edition
            </button>
            <img class="dropdown-arrow" src="/static/images/dropdown-arrow.png" />
          </div>
        {% endif %}
      </nav>
      <div class="explore">
        <a href="{{ url_for('outline', year=year, language=language) }}" class="alt btn">
          Start Exploring
        </a>
        {{ language_switcher() }}
      </div>
      <img class="menu-icon" src="/static/images/menu.png" />
      <img class="hidden menu-close-icon" src="/static/images/close.png" />
      <div class="hidden menu">
        <li>
          <a href="{{ url_for('outline', year=year, language=language) }}">Table of Contents</a>
        </li>
        <li>
          <a href="{{ url_for('contributors', year=year, language=language) }}">Contributors</a>
        </li>
        <li>
          <a href="{{ url_for('methodology', year=year, language=language) }}">Methodology</a>
        </li>
        <div>
          <a href="https://httparchive.org/">
            <img src="/static/images/ha-home.png" alt="HTTP Archive home" />
          </a>
          <div class="social-media">
            <a href="https://twitter.com/HTTPArchive">
              <img src="/static/images/twitter.png" alt="Twitter" />
            </a>
            <a href="https://github.com/HTTPArchive/almanac.httparchive.org">
              <img src="/static/images/github.png" alt="GitHub" />
            </a>
          </div>
          <div class="explore">
            {{ language_switcher() }}
          </div>
        </div>
      </div>
    </header>
  {% endblock %}

  {% block main %}{% endblock %}

  {% block footer %}
    <footer class="footer alt-bg">
      <div class="footer-container">
        <section class="nav">
          <img src="/static/images/logo.png" />
          <nav class="nav-items">
            <img src="/static/images/ha-home.png" />
            <li>
              <a href="{{ url_for('contributors', year=year, language=language) }}">Contributors</a>
            </li>
            <li>
              <a href="{{ url_for('methodology', year=year, language=language) }}">Methodology</a>
            </li>
          </nav>
          <div class="explore">
            {{ language_switcher() }}
          </div>
        </section>
        <hr class="line-break">
        <div class="footer-mobile-nav">
          <li>
            <a href="#">Table of Contents</a>
          </li>
          <li>
            <a href="{{ url_for('contributors', year=year, language=language) }}">Contributors</a>
          </li>
          <li>
            <a href="{{ url_for('methodology', year=year, language=language) }}">Methodology</a>
          </li>
          <div>
            <a href="https://httparchive.org/">
              <img src="/static/images/ha-home.png" alt="HTTP Archive home" />
            </a>
            <div class="social-media">
              <a href="https://twitter.com/HTTPArchive">
                <img src="/static/images/twitter.png" alt="Twitter" />
              </a>
              <a href="https://github.com/HTTPArchive/almanac.httparchive.org">
                <img src="/static/images/github.png" alt="GitHub" />
              </a>
            </div>
          </div>
        </div>
        <hr class="line-break">
        <div class="misc">
          <div>
            Copyright Â© 2019 Web Almanac. All rights reserved.
          </div>
          <div>
            <div class="social-media">
              <a href="https://twitter.com/HTTPArchive">
                <img src="/static/images/twitter.png" alt="Twitter" />
              </a>
              <a href="https://github.com/HTTPArchive/almanac.httparchive.org">
                <img src="/static/images/github.png" alt="GitHub" />
              </a>
            </div>
          </div>
        </div>
      </div>
    </footer>
  {% endblock %}
  {% block scripts %}
    <script nonce="{{ csp_nonce() }}">
(function() {
// Language switching
var languageSwitchers = document.querySelectorAll('.language-switcher');
for (var i = 0; i < languageSwitchers.length; i++) {
  languageSwitchers[i].addEventListener('change', function(e) {
    if (e.target.value) {
      window.location = e.target.value;
    }
  });
}

// Mobile menu
var menu = document.querySelector('.menu');
var menuIcon = document.querySelector('.menu-icon');
var menuCloseIcon = document.querySelector('.menu-close-icon');

function toggleMenu(e) {
  menu.classList.toggle('hidden');
  menuIcon.classList.toggle('hidden');
  menuCloseIcon.classList.toggle('hidden');
}

menuIcon.addEventListener('click', toggleMenu);
menuCloseIcon.addEventListener('click', toggleMenu);
})();
    </script>
  {% endblock %}
{% endblock %}

{% macro language_switcher() %}
  {% if language is not none %}
    <img src="/static/images/{{ language }}.png" height="25" width="25" />
  {% else %}
    <img src="/static/images/English.png" height="25" width="25" />
  {% endif %}
  <select class="language-switcher">
    {% for l in supported_languages %}
      <option
        {% if l == language %}selected="selected"{% endif %}
        value="{{ url_for(request.endpoint, **get_view_args(lang=l.lang_code)) }}">
        {{ l }}
      </option>
    {% endfor %}
  </select>
  <img class="dropdown-arrow" src="/static/images/dropdown-arrow.png" alt="open" height="20" width="20" />
{% endmacro %}